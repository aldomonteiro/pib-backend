{"version":3,"sources":["../../../src/api/models/orders.js"],"names":["Schema","mongoose","schema","id","type","Number","required","userId","String","pageId","customerId","status","status2","status3","location_lat","location_long","location_url","phone","address","qty","qty_total","item_complete","currentItem","currentItemSize","currentItemCategory","currentItemSplit","originalSplit","waitingForAddress","Boolean","waitingFor","waitingForData","Types","Mixed","undo","total","sent_shipping_notification","Date","sent_reject_notification","payment_type","payment_change","confirmed_at","delivered_at","changed_at","details","comments","postComments","rejection_reason","backToConfirmation","deliver_type","deliver_time","source","distance_from_store","delivery_fee","surcharge_percent","surcharge_amount","store_address","timestamps","pre","next","model"],"mappings":"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","sourcesContent":["import mongoose from 'mongoose';\n\nconst Schema = mongoose.Schema;\n\nconst schema = new Schema({\n    id: { type: Number, required: true },\n    userId: { type: String, required: true },\n    pageId: { type: String, required: true },\n    customerId: { type: Number },\n    status: { type: Number },\n    status2: { type: String },\n    status3: { type: String },\n    location_lat: { type: Number },\n    location_long: { type: Number },\n    location_url: { type: String },\n    phone: { type: String },\n    address: { type: String },\n    qty: { type: Number },\n    qty_total: { type: Number },\n    item_complete: { type: Number },\n    currentItem: { type: Number },\n    currentItemSize: { type: Number },\n    currentItemCategory: { type: Number },\n    currentItemSplit: { type: Number },\n    originalSplit: { type: Number },\n    waitingForAddress: { type: Boolean },\n    waitingFor: { type: String },\n    waitingForData: Schema.Types.Mixed,\n    undo: { type: String },\n    total: { type: Number },\n    sent_shipping_notification: { type: Date },\n    sent_reject_notification: { type: Date },\n    payment_type: { type: String },\n    payment_change: { type: String },\n    confirmed_at: { type: Date },\n    delivered_at: { type: Date },\n    changed_at: { type: Date }, // date and time where user changed something.\n    // Different from updatedAt, with has any updates, including the ones by the system.\n    details: { type: String },\n    comments: { type: String },\n    postComments: [{ type: String }],\n    rejection_reason: { type: String },\n    backToConfirmation: { type: String },\n    deliver_type: { type: String },\n    deliver_time: { type: Number },\n    source: { type: String },\n    distance_from_store: { type: Number },\n    delivery_fee: { type: Number },\n    surcharge_percent: { type: Number },\n    surcharge_amount: { type: Number },\n    store_address: { type: String },\n}, { timestamps: true });\n\nschema.pre('save', function (next) {\n    switch (this.status) {\n        case 0: this.status2 = 'pending'; this.status3 = 'pending'; break;\n        case 1: this.status2 = 'confirmed'; this.status3 = 'pending'; break;\n        case 2: this.status2 = 'viewed'; this.status3 = 'pending'; break;\n        case 3: this.status2 = 'accepted'; this.status3 = 'pending'; break;\n        case 4: this.status2 = 'printed'; this.status3 = 'pending'; break;\n        case 5: this.status2 = 'delivered'; this.status3 = 'delivered'; break;\n        case 7: this.status2 = 'finished'; this.status3 = 'finished'; break;\n        case 8: this.status2 = 'rejected'; this.status3 = 'cancelled'; break;\n        case 9: this.status2 = 'cancelled'; this.status3 = 'cancelled'; break;\n        default:\n            break;\n    }\n    next();\n});\n\nexport default mongoose.model('orders', schema);\n"],"file":"orders.js"}