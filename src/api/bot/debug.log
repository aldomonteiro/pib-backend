Bot server listening on port 4000
into getAllPages: 
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475351639,
  message:
   { mid:
      'jAhm00cMDHhG2IE4eKsyTjqUx8rIBJnAwn2foNREb96CAY2mlkTiClMnL2COX21Zl9lDpV_KFHD6yzCCmKPRGg',
     seq: 623,
     text: 'Rua Getil vargas, 139' } }
handleMessage <<<
this.emit message
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475351944,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475351639,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text: 'A entrega será para esse endereço?\nRua Getil vargas, 139',
     quick_replies: [ [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475354577,
  delivery:
   { mids:
      [ 'XF1eJpGe79v4w2IQNvRwizqUx8rIBJnAwn2foNREb9602M2akPrb4W7rBK1T5RGwWWnLrnQX4yjEyvi-fWKiNg' ],
     watermark: 1542475354119,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475354591,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475354577,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475354592,
  delivery:
   { mids:
      [ 'XF1eJpGe79v4w2IQNvRwizqUx8rIBJnAwn2foNREb9602M2akPrb4W7rBK1T5RGwWWnLrnQX4yjEyvi-fWKiNg' ],
     watermark: 1542475354119,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475354605,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475354592,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475354657,
  read: { watermark: 1542475354119, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475354662,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475354657,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475356685,
  message:
   { quick_reply:
      { payload:
         '{"data":{"manual_addres":true,"formattedAddress":"Rua Getil vargas, 139"},"event":"WRONG_SAVED_ADDRESS"}' },
     mid:
      'n-7tJBkpCWwS6ape9yqKVzqUx8rIBJnAwn2foNREb97WwhUxe3I2Jsmc4d95vS4YJyusqRcY4skPR-512QXmSQ',
     seq: 628,
     text: 'Não' } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475356967,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475356685,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text:
      'Para começar, preciso saber aonde você está. Clique no botão abaixo que receberei a sua localização.',
     quick_replies: [ [Object] ] } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475358951,
  delivery:
   { mids:
      [ '9PMwFaURuad_WQUWupglejqUx8rIBJnAwn2foNREb96JbGN0NKIDkEMIg-0R8ltHJgLYwtEwPunFlIBAb5m-tw' ],
     watermark: 1542475358469,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475358963,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475358951,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475358942,
  delivery:
   { mids:
      [ '9PMwFaURuad_WQUWupglejqUx8rIBJnAwn2foNREb96JbGN0NKIDkEMIg-0R8ltHJgLYwtEwPunFlIBAb5m-tw' ],
     watermark: 1542475358469,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475358982,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475358942,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475359223,
  read: { watermark: 1542475358469, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475359257,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475359223,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475368236,
  message:
   { mid:
      'qwMVRe-4BhceO0-HqdA5GjqUx8rIBJnAwn2foNREb95yyBdSQOeteQ0r-wEsyV-FZrKVgTQnONnJIx1yeQ4vCw',
     seq: 633,
     attachments: [ [Object] ] } }
handleMessage <<<
this.emit message
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475368553,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475368236,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475372263,
  delivery:
   { mids:
      [ 'oTtx8H-37M8IzyLAPjQhDzqUx8rIBJnAwn2foNREb974ngQR2vuDZOC2YnzyL4CjBma3dGLNPqhhDV-znsedBA' ],
     watermark: 1542475371624,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475372274,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475372263,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475372328,
  read: { watermark: 1542475371624, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475372332,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475372328,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475372272,
  delivery:
   { mids:
      [ 'oTtx8H-37M8IzyLAPjQhDzqUx8rIBJnAwn2foNREb974ngQR2vuDZOC2YnzyL4CjBma3dGLNPqhhDV-znsedBA' ],
     watermark: 1542475371624,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475372284,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475372272,
       delivery: [Object] } ] }
>>> handleMessage
{ recipient: { id: '307519123184673' },
  timestamp: 1542475378890,
  sender: { id: '2189750287715799' },
  postback:
   { payload:
      '{"data":{"formatted_address":"R. Getúlio Vargas, 268 - Centro, Palotina - PR, 85950-000, Brazil","address_components":[{"long_name":"268","short_name":"268","types":["street_number"]},{"long_name":"Rua Getúlio Vargas","short_name":"R. Getúlio Vargas","types":["route"]},{"long_name":"Centro","short_name":"Centro","types":["political","sublocality","sublocality_level_1"]},{"long_name":"Palotina","short_name":"Palotina","types":["administrative_area_level_2","political"]},{"long_name":"Paraná","short_name":"PR","types":["administrative_area_level_1","political"]},{"long_name":"Brazil","short_name":"BR","types":["country","political"]},{"long_name":"85950-000","short_name":"85950-000","types":["postal_code"]}]},"event":"LOCATION_ADDRESS"}',
     title: 'Esse!' } }
handleMessage <<<
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475378890,
  messaging:
   [ { recipient: [Object],
       timestamp: 1542475378890,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ recipient: { id: '307519123184673' },
  timestamp: 1542475378890,
  sender: { id: '2189750287715799' },
  postback: { title: 'Esse!' } }
handleMessage <<<
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475378890,
  standby:
   [ { recipient: [Object],
       timestamp: 1542475378890,
       sender: [Object],
       postback: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { text: 'Ok, entregaremos nesse endereço.' } }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475381586,
  delivery:
   { mids:
      [ 'NWPXZ01G6rh10W9Is9UCpDqUx8rIBJnAwn2foNREb962-33hH0nZNkVfGV2ZlAAVKQ1HZnBEEKmDTP7kOVxUqw' ],
     watermark: 1542475381157,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475381600,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475381586,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475381633,
  read: { watermark: 1542475381157, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475381650,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475381633,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475381590,
  delivery:
   { mids:
      [ 'NWPXZ01G6rh10W9Is9UCpDqUx8rIBJnAwn2foNREb962-33hH0nZNkVfGV2ZlAAVKQ1HZnBEEKmDTP7kOVxUqw' ],
     watermark: 1542475381157,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475381602,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475381590,
       delivery: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text:
      'Pode nos enviar o seu telefone? Para que possamos fazer a confirmação do pedido.',
     quick_replies: [ [Object] ] } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475383457,
  delivery:
   { mids:
      [ 'yYT20TGSYrRoxlfluEyn8TqUx8rIBJnAwn2foNREb95HR7jvETZRR8AFbrHSXV0MnS6o1wKygKFzdqeGtYea1Q' ],
     watermark: 1542475382935,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475383469,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475383457,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475383528,
  read: { watermark: 1542475382935, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475383532,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475383528,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475383483,
  delivery:
   { mids:
      [ 'yYT20TGSYrRoxlfluEyn8TqUx8rIBJnAwn2foNREb95HR7jvETZRR8AFbrHSXV0MnS6o1wKygKFzdqeGtYea1Q' ],
     watermark: 1542475382935,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475383495,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475383483,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475385232,
  message:
   { quick_reply: { payload: '+5541984163676' },
     mid:
      'NGyXjjkkgMk3q0ZRM-KAJDqUx8rIBJnAwn2foNREb96Q8RlIctOTgTqeUq5SxqlHn9vIeUr7usH6sL-WVaMRYg',
     seq: 646,
     text: '+5541984163676' } }
handleMessage <<<
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475385480,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475385232,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text:
      'Ok, telefone recebido. Agora vamos ao que interessa, informações do pedido.' } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475387967,
  delivery:
   { mids:
      [ 'RcN5eD3pz-_UdVzwaD1seTqUx8rIBJnAwn2foNREb941j_My-x2FQsmYEa2ZUkVdFiqNK-MTOgt5QoYnXB2zoQ' ],
     watermark: 1542475387587,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475387979,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475387967,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475387973,
  read: { watermark: 1542475387587, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475387977,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475387973,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475387926,
  delivery:
   { mids:
      [ 'RcN5eD3pz-_UdVzwaD1seTqUx8rIBJnAwn2foNREb941j_My-x2FQsmYEa2ZUkVdFiqNK-MTOgt5QoYnXB2zoQ' ],
     watermark: 1542475387587,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475387938,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475387926,
       delivery: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text: 'Quantas pizzas você quer?',
     quick_replies: [ [Object], [Object], [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475389786,
  delivery:
   { mids:
      [ 'ez6_ea8D_0qgSW48ahW_lDqUx8rIBJnAwn2foNREb94N2uS2uRNlRYbW2LXTguEtUfSfWjPtcovj7hg6FVJnnA' ],
     watermark: 1542475389375,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475389798,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475389786,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475389875,
  read: { watermark: 1542475389375, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475389880,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475389875,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475389793,
  delivery:
   { mids:
      [ 'ez6_ea8D_0qgSW48ahW_lDqUx8rIBJnAwn2foNREb94N2uS2uRNlRYbW2LXTguEtUfSfWjPtcovj7hg6FVJnnA' ],
     watermark: 1542475389375,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475389811,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475389793,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475391536,
  message:
   { quick_reply: { payload: '{"data":"qty_1","event":"ORDER_QTY"}' },
     mid:
      'vRc2Y1R-e8RyGnpucgsI1zqUx8rIBJnAwn2foNREb94adrH6ul_x_j51Ds3d_3ELBzCkGRH2MGhsseN9D4zTRQ',
     seq: 653,
     text: '1' } }
handleMessage <<<
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475391799,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475391536,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { text: '✅  1 pizza.' } }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475394537,
  delivery:
   { mids:
      [ 'jc_yDjRwhkdNVSozuMABsjqUx8rIBJnAwn2foNREb947Q-0LfqAdHHycJm6n03bxuZqwmzFH_EYKSR2vWo66Lw' ],
     watermark: 1542475394052,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475394548,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475394537,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475394551,
  delivery:
   { mids:
      [ 'jc_yDjRwhkdNVSozuMABsjqUx8rIBJnAwn2foNREb947Q-0LfqAdHHycJm6n03bxuZqwmzFH_EYKSR2vWo66Lw' ],
     watermark: 1542475394052,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475394564,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475394551,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475394592,
  read: { watermark: 1542475394052, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475394595,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475394592,
       read: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text: 'Qual o tamanho da pizza?',
     quick_replies: [ [Object], [Object], [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475397173,
  delivery:
   { mids:
      [ 'wKbpcNv-sxthftKTnZAvVzqUx8rIBJnAwn2foNREb971xjJBmgCgE-EIk0yAbfGfgW3_0Pc14Vr1b25w7jv9bA' ],
     watermark: 1542475396736,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475397185,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475397173,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475397257,
  delivery:
   { mids:
      [ 'wKbpcNv-sxthftKTnZAvVzqUx8rIBJnAwn2foNREb971xjJBmgCgE-EIk0yAbfGfgW3_0Pc14Vr1b25w7jv9bA' ],
     watermark: 1542475396736,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475397269,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475397257,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475398050,
  read: { watermark: 1542475396736, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475398055,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475398050,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475398572,
  message:
   { quick_reply:
      { payload: '{"data":{"id":1,"size":"Gigante"},"event":"ORDER_SIZE"}' },
     mid:
      'jNcHFC6etvjLo49fO7cfDTqUx8rIBJnAwn2foNREb95rEzBitQMY8uq_hihmjs08WKOpyuna-QEfxGUnun88Mg',
     seq: 661,
     text: 'Gigante' } }
handleMessage <<<
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475398867,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475398572,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { text: '✅  Tamanho: Gigante' } }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475402625,
  delivery:
   { mids:
      [ 'sOY9YpCpPz14AczBGntlpzqUx8rIBJnAwn2foNREb94CLuUKTLAQN5m2aijNkXStToG1RtS1ejio3mWBjggT3w' ],
     watermark: 1542475402146,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475402637,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475402625,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475402644,
  read: { watermark: 1542475402146, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475402648,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475402644,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475402604,
  delivery:
   { mids:
      [ 'sOY9YpCpPz14AczBGntlpzqUx8rIBJnAwn2foNREb94CLuUKTLAQN5m2aijNkXStToG1RtS1ejio3mWBjggT3w' ],
     watermark: 1542475402146,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475402616,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475402604,
       delivery: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475407774,
  delivery:
   { mids:
      [ 'y--HHxLaghGQmGKeI2eA-DqUx8rIBJnAwn2foNREb944By_dnkyJS8pUSk_-qWPvQgZJ3eXq-HXKpJqKM5ymgA' ],
     watermark: 1542475407350,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475407785,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475407774,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475407778,
  delivery:
   { mids:
      [ 'y--HHxLaghGQmGKeI2eA-DqUx8rIBJnAwn2foNREb944By_dnkyJS8pUSk_-qWPvQgZJ3eXq-HXKpJqKM5ymgA' ],
     watermark: 1542475407350,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475407790,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475407778,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475409160,
  read: { watermark: 1542475407350, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475409164,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475409160,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '307519123184673' },
  timestamp: 1542475410088,
  sender: { id: '2189750287715799' },
  postback:
   { payload:
      '{"data":{"id":1,"flavor":"Calabresa"},"event":"ORDER_FLAVOR"}',
     title: 'Quero' } }
handleMessage <<<
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475410088,
  messaging:
   [ { recipient: [Object],
       timestamp: 1542475410088,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ recipient: { id: '307519123184673' },
  timestamp: 1542475410088,
  sender: { id: '2189750287715799' },
  postback: { title: 'Quero' } }
handleMessage <<<
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475410088,
  standby:
   [ { recipient: [Object],
       timestamp: 1542475410088,
       sender: [Object],
       postback: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { text: '✅  Sabor: Calabresa' } }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475413715,
  delivery:
   { mids:
      [ 'B2jX4EKYCLtd5MI9t1XfZjqUx8rIBJnAwn2foNREb94eff_OiHZivAZbUz7FujT23idhoxzqEMz7QEhRSLelvw' ],
     watermark: 1542475413291,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475413727,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475413715,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475413723,
  delivery:
   { mids:
      [ 'B2jX4EKYCLtd5MI9t1XfZjqUx8rIBJnAwn2foNREb94eff_OiHZivAZbUz7FujT23idhoxzqEMz7QEhRSLelvw' ],
     watermark: 1542475413291,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475413736,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475413723,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475413774,
  read: { watermark: 1542475413291, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475413778,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475413774,
       read: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message:
   { text:
      'Seguem os detalhes do seu pedido:\n1 pizza Gigante de Calabresa\nEndereço de entrega: R. Getúlio Vargas, 268 - Centro, Palotina - PR, 85950-000, Brazil\nPodemos confirmar o pedido?',
     quick_replies: [ [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475415922,
  delivery:
   { mids:
      [ 'WAZ7Nv0nH1_vK8Df8EIZYjqUx8rIBJnAwn2foNREb97FAcmuK5dRvkT-5bkkmnn5cv9XvaQXiSeB_oLpf2MZGg' ],
     watermark: 1542475415523,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475415935,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475415922,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475415929,
  delivery:
   { mids:
      [ 'WAZ7Nv0nH1_vK8Df8EIZYjqUx8rIBJnAwn2foNREb97FAcmuK5dRvkT-5bkkmnn5cv9XvaQXiSeB_oLpf2MZGg' ],
     watermark: 1542475415523,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475415942,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475415929,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475417316,
  read: { watermark: 1542475415523, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475417320,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475417316,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475420889,
  message:
   { quick_reply:
      { payload: '{"data":"confirmation_yes","event":"ORDER_CONFIRMATION"}' },
     mid:
      'j8eSue-EDD0k-7FBXisWzzqUx8rIBJnAwn2foNREb97fP4vCY7qhJhr1SUd_XI7T18I0l0TQHZrvymKbEaS2kQ',
     seq: 676,
     text: 'Sim' } }
handleMessage <<<
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475421137,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475420889,
       message: [Object] } ] }
{ recipient: { id: '2189750287715799' },
  senderAction: 'typing_off' }
{ recipient: { id: '2189750287715799' },
  message: { text: 'Pedido Confirmado!' } }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475423572,
  delivery:
   { mids:
      [ '1hS0fdCOJkTDp_-9IHxFAzqUx8rIBJnAwn2foNREb95REPRdhcUVoglm-qnwfeULE27ud3MFbDUfXDg3xBCgcQ' ],
     watermark: 1542475423166,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475423584,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475423572,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475423958,
  read: { watermark: 1542475423166, seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475423962,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475423958,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2189750287715799' },
  recipient: { id: '307519123184673' },
  timestamp: 1542475423902,
  delivery:
   { mids:
      [ '1hS0fdCOJkTDp_-9IHxFAzqUx8rIBJnAwn2foNREb95REPRdhcUVoglm-qnwfeULE27ud3MFbDUfXDg3xBCgcQ' ],
     watermark: 1542475423166,
     seq: 0 } }
handleMessage <<<
bot router (req.body.entry[0])
{ id: '307519123184673',
  time: 1542475423914,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542475423902,
       delivery: [Object] } ] }
