Bot server listening on port 4000
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993544431,
  sender: { id: '2077951832238335' },
  postback: { title: '+ Opções' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993544431,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993544431,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993547372,
  delivery:
   { mids:
      [ '-8HxbK-y2bMjtB8SPHaQux9qrKglb7zAm-_dwpD1P39pzMiC4VccvyT6MNcvQ6wiOc3Btn0kqYSDBw1MawK_Tw' ],
     watermark: 1542993546857,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993547400,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993547372,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993547527,
  read: { watermark: 1542993546857, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993547573,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993547527,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993564851,
  sender: { id: '2077951832238335' },
  postback: { title: '+ Opções' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993564851,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993564851,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993568064,
  delivery:
   { mids:
      [ 'Xzt86CJhgnaA593mfyN57h9qrKglb7zAm-_dwpD1P38WIDyT7JbP61PlUNQVB4Kx22dsGv2MqExj0hLnoXlReA' ],
     watermark: 1542993567648,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993568082,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993568064,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993568174,
  read: { watermark: 1542993567648, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993568198,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993568174,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993577582,
  sender: { id: '2077951832238335' },
  postback: { title: '+ Opções' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993577582,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993577582,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993580276,
  delivery:
   { mids:
      [ 'T4m7XYQZ4Vutn3347jlY0B9qrKglb7zAm-_dwpD1P38C1nzBcKz9bU-aLL0cHYzg4ul5noOxGX-uM6s-2iYVZw' ],
     watermark: 1542993579744,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993580297,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993580276,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993580347,
  read: { watermark: 1542993579744, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993580355,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993580347,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993589610,
  sender: { id: '2077951832238335' },
  postback: { title: 'Quero' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993589610,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993589610,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993591901,
  delivery:
   { mids:
      [ 'UHkEWT85Nf9qBC-OP29scB9qrKglb7zAm-_dwpD1P38raiyyC-w93V0nbmsxpI9O0eL6Ad3PV0wbQr6amrRLUw' ],
     watermark: 1542993591457,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993591922,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993591901,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993591955,
  read: { watermark: 1542993591457, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993591968,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993591955,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993593697,
  read: { watermark: 1542993593092, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993593706,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993593697,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993593614,
  delivery:
   { mids:
      [ '_INAvX0E6FMJf_OACXjJzB9qrKglb7zAm-_dwpD1P3_3fzXeumhpazZDj-SWCHstWP_uQSC1ybnDr7oZoKa6RA' ],
     watermark: 1542993593092,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993593634,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993593614,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993598467,
  message:
   { quick_reply:
      { payload: '{"data":"confirmation_yes","event":"ORDER_CONFIRMATION"}' },
     mid:
      'Qp0vHtv4LV74bESCwfeIKx9qrKglb7zAm-_dwpD1P38zvZlHm64ZvxBFUaxcxmbLyshmupvlFZZq3I7LenXsQw',
     seq: 19300,
     text: 'Sim' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993598722,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993598467,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { text: 'Pedido Confirmado!' } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993600722,
  delivery:
   { mids:
      [ '04ESyYjQVgp3bjHop0fINB9qrKglb7zAm-_dwpD1P39Rg3W_i4injyzx_CvHeegyXQ-0_TtNo168gHWzDrijjA' ],
     watermark: 1542993600286,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993600743,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993600722,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993600789,
  read: { watermark: 1542993600286, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993600802,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993600789,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993601231,
  delivery:
   { mids:
      [ 'JDb2O03dSmA0t3U4IFCkSR9qrKglb7zAm-_dwpD1P381eLBJjSCj2CXyLUzqnbUTi5LuMhHYiyYuz5E0BCD3Lw' ],
     watermark: 1542993600833,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993601250,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993601231,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993601301,
  read: { watermark: 1542993600833, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993601312,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993601301,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993605178,
  message:
   { mid:
      'FoJ9JbDVwjDdy11KI2iv0h9qrKglb7zAm-_dwpD1P39grSoJG0DchiOkemfyZlw7knKAenp6VWYEy-oTCRtkhg',
     seq: 19309,
     text: 'olá' } }
this.emit message
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993605510,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993605178,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message:
   { text:
      'Ops, tivemos um probleminha técnico: Could not form a message. Have you followed the format?' } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993607609,
  delivery:
   { mids:
      [ 'qNOpDJ7x0FXIcnOZWTnopx9qrKglb7zAm-_dwpD1P39WLaZVz0diHwAIK6wQkvnywLBXWC7jSz4j5hC931BtmQ' ],
     watermark: 1542993607280,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993607629,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993607609,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993607679,
  read: { watermark: 1542993607216, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993607688,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993607679,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993607754,
  delivery:
   { mids:
      [ '0KlA5h7g13MOOwSJ-954lh9qrKglb7zAm-_dwpD1P3-TVjBmcD4emEY2scwwNKztxN3fkV8jvQDtPlriaU3ckQ' ],
     watermark: 1542993607280,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993607773,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993607754,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993607816,
  read: { watermark: 1542993607280, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993607826,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993607816,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993647793,
  sender: { id: '2077951832238335' },
  postback:
   { payload: '{"data":"PEDIDO_PAYLOAD","event":"MAIN-MENU"}',
     title: 'Fazer Pedido' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993647793,
  messaging:
   [ { recipient: [Object],
       timestamp: 1542993647793,
       sender: [Object],
       postback: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993647793,
  sender: { id: '2077951832238335' },
  postback: { title: 'Fazer Pedido' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993647793,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993647793,
       sender: [Object],
       postback: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message:
   { text:
      'A entrega será para esse endereço?\nRua Eurico Gaspar Dutra - Jequitibá, Palotina - PR, 85950-000, Brazil',
     quick_replies: [ [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993650746,
  delivery:
   { mids:
      [ 'bvWA43mrfR5IgN9oq6Byix9qrKglb7zAm-_dwpD1P3-0FMdTuxpl45EyEDNxWIrmoJKKL0pCnfvgu5K0Zygs6g' ],
     watermark: 1542993650114,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993650771,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993650746,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993650830,
  read: { watermark: 1542993650114, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993650840,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993650830,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993652708,
  message:
   { quick_reply:
      { payload:
         '{"data":{"formattedAddress":"Rua Eurico Gaspar Dutra - Jequitibá, Palotina - PR, 85950-000, Brazil","street":"Rua Eurico Gaspar Dutra","sublocality":"Jequitibá","state":"Paraná","city":"Palotina","postal_code":"85950-000"},"event":"CORRECT_SAVED_ADDRESS"}' },
     mid:
      'ED_QMvs7heCfDCo4YXhwWh9qrKglb7zAm-_dwpD1P3_WPocvwEUZBAlPgdtLOprfLcUkeo2OL6S4grMQ8vLaZg',
     seq: 19325,
     text: 'Sim' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993653029,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993652708,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { text: 'Ok, entregaremos nesse endereço.' } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993655221,
  delivery:
   { mids:
      [ 'HWqGj-nKnfSsIDHBM6uSvR9qrKglb7zAm-_dwpD1P3_2wPuG2tRmy8d6Ec0D1CXjejXeUg2ckeUn5UmwI94kxA' ],
     watermark: 1542993655017,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993655248,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993655221,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993655302,
  read: { watermark: 1542993654686, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993655323,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993655302,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993655489,
  read: { watermark: 1542993655017, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993655498,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993655489,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993655454,
  delivery:
   { mids:
      [ 'BdrDngUHcmgMs5R5oN8_fh9qrKglb7zAm-_dwpD1P38OxO_s0-lmw2M-gKHsMpHszIGv4wu-U4g21vnjcxYUeA' ],
     watermark: 1542993655017,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993655480,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993655454,
       delivery: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message:
   { text:
      'Pode nos enviar o seu telefone para confirmar o seu pedido? Se não aparecer o seu telefone (ou estiver errado), use a opção digitar.',
     quick_replies: [ [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993656723,
  delivery:
   { mids:
      [ 'fSN-RSXGb9LMGiQQPxCQKB9qrKglb7zAm-_dwpD1P3-krm3zQhttFAW43I1GwXTvaxujuapxoAdRRlwqwQyP7g' ],
     watermark: 1542993656286,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993656744,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993656723,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993656808,
  read: { watermark: 1542993656286, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993656819,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993656808,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993657190,
  delivery:
   { mids:
      [ 'QMrhhN7gr_kG6i_oL1V4ax9qrKglb7zAm-_dwpD1P3-Uxhvw_XJvSbcPilsXHucVaEvSv8E1Aoe90bhHUKGejA' ],
     watermark: 1542993656743,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993657209,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993657190,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993657261,
  read: { watermark: 1542993656743, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993657272,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993657261,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993658709,
  message:
   { quick_reply: { payload: '+554184163676' },
     mid:
      'OfI3EIUpnepJ1vP84BntCh9qrKglb7zAm-_dwpD1P3_khZkVqzjKSDrKKFCy-7qxjg9Gzg6cT4Ou2bdlfpgnZQ',
     seq: 19340,
     text: '+554184163676' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993659011,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993658709,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message:
   { text:
      'Usaremos o número +554184163676 para confirmar o pedido. Agora vou pegar as informações do pedido.' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993660985,
  delivery:
   { mids:
      [ 'yDqt0mP7rqvTh11lyRiiBh9qrKglb7zAm-_dwpD1P398ztTu1o0-OxYW8jmgEGY5Lo5K1UMmte8mwH11yF6Flw' ],
     watermark: 1542993660572,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993661006,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993660985,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993661078,
  read: { watermark: 1542993660572, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993661092,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993661078,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993661399,
  delivery:
   { mids:
      [ '51GtNkzgcekrm6gZ6W1Atx9qrKglb7zAm-_dwpD1P38FYGGrxPzrUxb1UwC0KqDXwlO3wKrS8tu1o3gl7EavsQ' ],
     watermark: 1542993660931,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993661420,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993661399,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993661514,
  read: { watermark: 1542993660931, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993661538,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993661514,
       read: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message:
   { text: 'Quantas pizzas você quer?',
     quick_replies: [ [Object], [Object], [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993662509,
  delivery:
   { mids:
      [ '5xlqn6ONvrmaikCULQMkeR9qrKglb7zAm-_dwpD1P3-_ROg2tNZNGi5ll-s5Rn1HSH3mCeszHd8ggAkgrOiaxA' ],
     watermark: 1542993662097,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993662528,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993662509,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993662604,
  read: { watermark: 1542993662097, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993662611,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993662604,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993663132,
  delivery:
   { mids:
      [ 'ggW5qAvOA3fnBLIWkiScVR9qrKglb7zAm-_dwpD1P3_2-JZtEfHtDqfEEbfV-WP1hFOLDn_1ubr6Sr5GpNhH2A' ],
     watermark: 1542993662684,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993663152,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993663132,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993663247,
  read: { watermark: 1542993662684, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993663259,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993663247,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993665002,
  message:
   { quick_reply: { payload: '{"data":"qty_1","event":"ORDER_QTY"}' },
     mid:
      'LAlDwf3dapP4obxmdCOgYR9qrKglb7zAm-_dwpD1P3_YVtY6w7IRk48SlYgaLA_Csj9nEsCKNdYboMfzRdjMeA',
     seq: 19355,
     text: '1' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993665451,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993665002,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { text: '✅  1 pizza.' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993667696,
  delivery:
   { mids:
      [ '-XIrcBsDC88G6biAijeIGR9qrKglb7zAm-_dwpD1P381uRoQ-zeadCRevQ4nAGV3RTnDtlqmNvwY1LRKnjwrew' ],
     watermark: 1542993667227,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993667717,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993667696,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993667760,
  read: { watermark: 1542993667227, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993667767,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993667760,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993668077,
  delivery:
   { mids:
      [ '-77hyD8HiiPqkxXbNeQSAR9qrKglb7zAm-_dwpD1P39hFZTOE3a622U1mO9FqDXV7gXwWw-c9B77WBnhHiSBWw' ],
     watermark: 1542993667554,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993668096,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993668077,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993668157,
  read: { watermark: 1542993667554, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993668175,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993668157,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993669252,
  delivery:
   { mids:
      [ 'ki_wOKzDVpyFejEwX93BLh9qrKglb7zAm-_dwpD1P3-wq8OYVFemYIEGLoyk7H8zUTFTh7HPt7uCFDRiRdYRqA' ],
     watermark: 1542993668811,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993669270,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993669252,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993669349,
  read: { watermark: 1542993668811, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993669360,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993669349,
       read: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message:
   { text: 'Qual o tamanho da pizza?',
     quick_replies: [ [Object], [Object], [Object], [Object] ] } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993670547,
  delivery:
   { mids:
      [ 'j56yD3k4TUWJiOSihOgr4h9qrKglb7zAm-_dwpD1P39Ymxl_mu3wp-LMhozEIxGg98wEt75ELvBUjhw9oYfIPw' ],
     watermark: 1542993670081,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993670567,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993670547,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993670617,
  read: { watermark: 1542993670081, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993670626,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993670617,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993671927,
  message:
   { quick_reply:
      { payload: '{"data":{"id":3,"size":"Grande"},"event":"ORDER_SIZE"}' },
     mid:
      'G__Lzp8cHtmfgqjB6mrQlR9qrKglb7zAm-_dwpD1P387ZC37ySDjUBDm-c9Yk4aQnvhspZaKRI11dpzLj7XOIg',
     seq: 19371,
     text: 'Grande' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993672222,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993671927,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { text: '✅  Tamanho: Grande' } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993674296,
  delivery:
   { mids:
      [ '8q6qd2n9j2kNz5_mYoNlAx9qrKglb7zAm-_dwpD1P39gmDQcAVhR3BCjPWvBl_AxktQF0umMeatMRk8pYZdikw' ],
     watermark: 1542993673923,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993674317,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993674296,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993674402,
  read: { watermark: 1542993673923, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993674422,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993674402,
       read: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993674811,
  delivery:
   { mids:
      [ 'tLwwYdjpxv_05aFilUe4zB9qrKglb7zAm-_dwpD1P3-XbhHIM4cVmFkphasdnK4s7RrSX1z3Qh0A3PK4StCFVg' ],
     watermark: 1542993674350,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993674843,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993674811,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993674862,
  read: { watermark: 1542993674350, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993674873,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993674862,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993676775,
  read: { watermark: 1542993676188, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993676785,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993676775,
       read: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993681167,
  delivery:
   { mids:
      [ 'LYVdaANCBH08kWlZ3iV33B9qrKglb7zAm-_dwpD1P393vySk0rO7owlp34iXbKDjNC6cQDczysyCXe-0DULoGw' ],
     watermark: 1542993680636,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993681191,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993681167,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993681247,
  read: { watermark: 1542993680636, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993681256,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993681247,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542993704178,
  sender: { id: '2077951832238335' },
  postback: { title: '+ Opções' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993704178,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993704178,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993706852,
  delivery:
   { mids:
      [ 'z7usQVI2Ti4is95ujpNRgx9qrKglb7zAm-_dwpD1P3-1PnB5XtJJ895ju91bOPs_PXJqi_qL-Zi_lFkt6o4Jsg' ],
     watermark: 1542993706365,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993706873,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993706852,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542993706995,
  read: { watermark: 1542993706365, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542993707013,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993706995,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '423247368207185' },
  timestamp: 1542993758699,
  sender: { id: '1887114264702260' },
  postback: { title: 'Cardápio' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '423247368207185',
  time: 1542993758699,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993758699,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '1887114264702260' },
  recipient: { id: '423247368207185' },
  timestamp: 1542993760014,
  delivery:
   { mids:
      [ 'Bnu7yVRSJUMNE20BxJxgoMBnFZIX8j_DrYoc_ZTh564VlUcm1i-vPEVvpiYwcl0YuBJka0L8R6WWugMZzg5suQ' ],
     watermark: 1542993759616,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '423247368207185',
  time: 1542993760036,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993760014,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '1887114264702260' },
  recipient: { id: '423247368207185' },
  timestamp: 1542993760066,
  read: { watermark: 1542993759616, seq: 0 } }
bot router (req.body.entry[0])
{ id: '423247368207185',
  time: 1542993760081,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993760066,
       read: [Object] } ] }
>>> handleMessage
{ recipient: { id: '237290183773790' },
  timestamp: 1542993772644,
  sender: { id: '2579948355364708' },
  postback: { title: 'Cardápio' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '237290183773790',
  time: 1542993772644,
  standby:
   [ { recipient: [Object],
       timestamp: 1542993772644,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ sender: { id: '2579948355364708' },
  recipient: { id: '237290183773790' },
  timestamp: 1542993774304,
  delivery:
   { mids:
      [ 'dmuC8LGWPTSYmSl9dcE2ZK3f_F2NvjRNv2Wursbm-ruDUWutdMKKY3OmahHDHJ2qTUWfjnkQ0tjkqLmRRJBvwA' ],
     watermark: 1542993773858,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '237290183773790',
  time: 1542993774358,
  standby:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993774304,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2579948355364708' },
  recipient: { id: '237290183773790' },
  timestamp: 1542993774321,
  read: { watermark: 1542993773858, seq: 0 } }
bot router (req.body.entry[0])
{ id: '237290183773790',
  time: 1542993774365,
  standby:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542993774321,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '1887114264702260' },
  recipient: { id: '423247368207185' },
  timestamp: 1542994078267,
  delivery:
   { mids:
      [ 'Bnu7yVRSJUMNE20BxJxgoMBnFZIX8j_DrYoc_ZTh564VlUcm1i-vPEVvpiYwcl0YuBJka0L8R6WWugMZzg5suQ' ],
     watermark: 1542993759616,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '423247368207185',
  time: 1542994078288,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994078267,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2579948355364708' },
  recipient: { id: '237290183773790' },
  timestamp: 1542994078267,
  delivery:
   { mids:
      [ 'dmuC8LGWPTSYmSl9dcE2ZK3f_F2NvjRNv2Wursbm-ruDUWutdMKKY3OmahHDHJ2qTUWfjnkQ0tjkqLmRRJBvwA' ],
     watermark: 1542993773858,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '237290183773790',
  time: 1542994078308,
  standby:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994078267,
       delivery: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542994096100,
  sender: { id: '2077951832238335' },
  postback: { payload: 'GET_STARTED', title: 'Começar' } }
ERROR parsing postback.payload
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994096100,
  messaging:
   [ { recipient: [Object],
       timestamp: 1542994096100,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542994096100,
  sender: { id: '2077951832238335' },
  postback: { title: 'Começar' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994096100,
  standby:
   [ { recipient: [Object],
       timestamp: 1542994096100,
       sender: [Object],
       postback: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { text: 'Olá Aldo, bem vindo ao EchoBot' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994098465,
  delivery:
   { mids:
      [ '56sq7vCMt7dqiW-IZg0FER9qrKglb7zAm-_dwpD1P39ucdH9sj2npFJPOYynOHwjBg7GtHVY523V_GWEhViOiQ' ],
     watermark: 1542994098134,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994098484,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994098465,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994098509,
  delivery:
   { mids:
      [ '56sq7vCMt7dqiW-IZg0FER9qrKglb7zAm-_dwpD1P39ucdH9sj2npFJPOYynOHwjBg7GtHVY523V_GWEhViOiQ' ],
     watermark: 1542994098134,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994098531,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994098509,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994098543,
  read: { watermark: 1542994098134, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994098550,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994098543,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994098665,
  delivery:
   { mids:
      [ '56sq7vCMt7dqiW-IZg0FER9qrKglb7zAm-_dwpD1P39ucdH9sj2npFJPOYynOHwjBg7GtHVY523V_GWEhViOiQ' ],
     watermark: 1542994098134,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994098684,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994098665,
       delivery: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994100320,
  delivery:
   { mids:
      [ 'mer7mr-C3GlQZDJUONvK8h9qrKglb7zAm-_dwpD1P3-uzzWFizrxqa3q33p9R9u8HSURp4CqqfhyBRh8BjmYsw' ],
     watermark: 1542994099934,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994100339,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994100320,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994100327,
  delivery:
   { mids:
      [ 'mer7mr-C3GlQZDJUONvK8h9qrKglb7zAm-_dwpD1P3-uzzWFizrxqa3q33p9R9u8HSURp4CqqfhyBRh8BjmYsw' ],
     watermark: 1542994099934,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994100350,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994100327,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994100360,
  read: { watermark: 1542994099934, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994100368,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994100360,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542994100321,
  delivery:
   { mids:
      [ 'mer7mr-C3GlQZDJUONvK8h9qrKglb7zAm-_dwpD1P3-uzzWFizrxqa3q33p9R9u8HSURp4CqqfhyBRh8BjmYsw' ],
     watermark: 1542994099934,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542994100339,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542994100321,
       delivery: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542996213028,
  sender: { id: '2077951832238335' },
  postback: { payload: 'GET_STARTED', title: 'Começar' } }
ERROR parsing postback.payload
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996213028,
  messaging:
   [ { recipient: [Object],
       timestamp: 1542996213028,
       sender: [Object],
       postback: [Object] } ] }
>>> handleMessage
{ recipient: { id: '938611509676235' },
  timestamp: 1542996213028,
  sender: { id: '2077951832238335' },
  postback: { title: 'Começar' } }
ERROR parsing postback.payload
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996213028,
  standby:
   [ { recipient: [Object],
       timestamp: 1542996213028,
       sender: [Object],
       postback: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { text: 'Olá Aldo, bem vindo ao EchoBot' } }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996215761,
  read: { watermark: 1542996215274, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996215770,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996215761,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996215716,
  delivery:
   { mids:
      [ 'Ws_D0k-z61TA_AcxNChx8x9qrKglb7zAm-_dwpD1P3-JzV7sAxmRtJxli0L2pcr5iCZXt66xaWHlUJ-sGX2lPg' ],
     watermark: 1542996215274,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996215733,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996215716,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996215727,
  delivery:
   { mids:
      [ 'Ws_D0k-z61TA_AcxNChx8x9qrKglb7zAm-_dwpD1P3-JzV7sAxmRtJxli0L2pcr5iCZXt66xaWHlUJ-sGX2lPg' ],
     watermark: 1542996215274,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996215746,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996215727,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996216021,
  delivery:
   { mids:
      [ 'Ws_D0k-z61TA_AcxNChx8x9qrKglb7zAm-_dwpD1P3-JzV7sAxmRtJxli0L2pcr5iCZXt66xaWHlUJ-sGX2lPg' ],
     watermark: 1542996215274,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996216041,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996216021,
       delivery: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996217398,
  delivery:
   { mids:
      [ 'ISTIesOR9n8_JLp_xBwtZB9qrKglb7zAm-_dwpD1P3_AXEY_gDFacGUDWUHH-O0A-PnQ96Zcnkc-tGlP_QML9g' ],
     watermark: 1542996217051,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996217417,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996217398,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996217414,
  delivery:
   { mids:
      [ 'ISTIesOR9n8_JLp_xBwtZB9qrKglb7zAm-_dwpD1P3_AXEY_gDFacGUDWUHH-O0A-PnQ96Zcnkc-tGlP_QML9g' ],
     watermark: 1542996217051,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996217433,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996217414,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996217486,
  read: { watermark: 1542996217051, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996217495,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996217486,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542996217452,
  delivery:
   { mids:
      [ 'ISTIesOR9n8_JLp_xBwtZB9qrKglb7zAm-_dwpD1P3_AXEY_gDFacGUDWUHH-O0A-PnQ96Zcnkc-tGlP_QML9g' ],
     watermark: 1542996217051,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542996217470,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542996217452,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997048099,
  message:
   { mid:
      'sXS2eLQD59-0IJRymhYLnh9qrKglb7zAm-_dwpD1P380hN1RLYWVtNcV7QUcAyU0ftQ5dTaom2ubWZIkv_vU9w',
     seq: 19449,
     text: 'olá' } }
this.emit message
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997048390,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997048099,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997054993,
  delivery:
   { mids:
      [ 'On2cet045BR6pkTClaudEB9qrKglb7zAm-_dwpD1P3_UjkM2Z7Z88S62wzpNTNEaN0g78K-gI528qE9v666t9w' ],
     watermark: 1542997054212,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997055010,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997054993,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997055188,
  read: { watermark: 1542997054212, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997055197,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997055188,
       read: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997055253,
  delivery:
   { mids:
      [ 'On2cet045BR6pkTClaudEB9qrKglb7zAm-_dwpD1P3_UjkM2Z7Z88S62wzpNTNEaN0g78K-gI528qE9v666t9w' ],
     watermark: 1542997054212,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997055273,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997055253,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997076037,
  message:
   { mid:
      'xsMYe0NP-uiNJXOLPLJGaB9qrKglb7zAm-_dwpD1P3_IS3I1oIgv4OrOImBtinjyAp2Nw9YGMaoGpNBcPqFx9g',
     seq: 19458,
     text: 'olá' } }
this.emit message
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_on' }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997076349,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997076037,
       message: [Object] } ] }
{ recipient: { id: '2077951832238335' },
  senderAction: 'typing_off' }
{ recipient: { id: '2077951832238335' },
  message: { attachment: { type: 'template', payload: [Object] } } }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997082653,
  delivery:
   { mids:
      [ '-6Gcw4XNojaIlaYbxLzfwR9qrKglb7zAm-_dwpD1P38xGsG9zOjHP40nAOBVhY81Hhp308lo-zdQZDqKBeZ_5g' ],
     watermark: 1542997082157,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997082675,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997082653,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997082616,
  delivery:
   { mids:
      [ '-6Gcw4XNojaIlaYbxLzfwR9qrKglb7zAm-_dwpD1P38xGsG9zOjHP40nAOBVhY81Hhp308lo-zdQZDqKBeZ_5g' ],
     watermark: 1542997082157,
     seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997082638,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997082616,
       delivery: [Object] } ] }
>>> handleMessage
{ sender: { id: '2077951832238335' },
  recipient: { id: '938611509676235' },
  timestamp: 1542997082661,
  read: { watermark: 1542997082157, seq: 0 } }
bot router (req.body.entry[0])
{ id: '938611509676235',
  time: 1542997082668,
  messaging:
   [ { sender: [Object],
       recipient: [Object],
       timestamp: 1542997082661,
       read: [Object] } ] }
